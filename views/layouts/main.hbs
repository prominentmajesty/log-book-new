<!DOCTYPE html>
<html lang="en">
    <head>  
        <title>{{title}}</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="Content-Language" content="en">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no" />
        <link href="/assets/img/favicon.png" rel="icon">
        
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons"rel="stylesheet">
        <link href="/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Varela+Round">
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        <link href="https://fonts.googleapis.com/css2?family=Abel&family=Source+Code+Pro&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
        <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
        <link href="/assets/vendor/icofont/icofont.min.css" rel="stylesheet">
        <link href="/assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
        <link href="/assets/vendor/animate.css/animate.min.css" rel="stylesheet">
        <link href="/assets/vendor/remixicon/remixicon.css" rel="stylesheet">
        <link href="/assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
        <link href="/assets/vendor/venobox/venobox.css" rel="stylesheet">
        <link href="/assets/vendor/aos/aos.css" rel="stylesheet">
        <link rel="stylesheet" href="/assets/css/themify-icons.css">
        <link rel="stylesheet" href="/assets/css/metisMenu.css">
        <link rel="stylesheet" href="/assets/css/slicknav.min.css">
        <link rel="stylesheet" href="/assets/css/typography.css">
        <link rel="stylesheet" href="/assets/css/default-css.css">
        <link rel="stylesheet" href="/assets/css/stylesD.css">
        <link rel="stylesheet" href="/assets/css/responsive.css">
        <link href="/assets/css/style.css" rel="stylesheet">
        <link rel="stylesheet" href="/assets/css/{{style}}">
         <script src="/assets/js/vendor/modernizr-2.8.3.min.js"></script>
    </head>
    <body style="overflow-x : hidden">
        {{{body}}}
        <script src="/assets/vendor/jquery/jquery.min.js"></script>
        <script src="/assets/js/vendor/jquery-2.2.4.min.js"></script>
        <script src="/assets/vendor/jquery.easing/jquery.easing.min.js"></script>
        <script src="/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
        <script src="/assets/js/jquery.slimscroll.min.js"></script>
        <script src="/assets/js/jquery.slicknav.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>
        <script src="/assets/js/popper.min.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        <script src="/assets/vendor/php-email-form/validate.js"></script>
        <script src="/assets/vendor/owl.carousel/owl.carousel.min.js"></script>
        <script src="/assets/vendor/venobox/venobox.min.js"></script>
        <script src="/assets/vendor/venobox/isotope-layout/isotope.pkgd.min.js"></script>
        <script src="/assets/vendor/aos/aos.js"></script>
        <script src="/assets/js/metisMenu.min.js"></script> 
        <script src="/assets/js/plugins.js"></script>
        <script src="/assets/js/scripts.js"></script>
        <script src="/assets/js/main.js"></script>
       
        <!-- start highcharts js -->
        <script src="https://code.highcharts.com/highcharts.js"></script>
        <!-- start zingchart js -->
        <script src="https://cdn.zingchart.com/zingchart.min.js"></script>
        <script>
        zingchart.MODULESDIR = "https://cdn.zingchart.com/modules/";
        ZC.LICENSE = ["569d52cefae586f634c54f86dc99e6a9", "ee6b7db5b51705a13dc2339db3edaf6d"];
        </script>
        <!-- all line chart activation -->
        <script src="/assets/js/line-chart.js"></script>
        <!-- all pie chart -->
        <script src="/assets/js/pie-chart.js"></script>
        <script src="/assets/js/{{script}}"></script>
        <script src="https://rawgithub.com/davidkonrad/toUnicodeVariant/master/toUnicodeVariant.js"></script>

        <script>
            function myFunction(){
                var reg_number_1_value = document.querySelector('.reg_number_1_value').textContent;
                var email = document.querySelector('.email_value').textContent;
                var first_name = document.querySelector('.first_name_value').textContent;
                var last_name = document.querySelector('.last_name_value').textContent;
                var department = document.querySelector('.department_value').textContent;
                var collage = document.querySelector('.collage_value').textContent;
                var phone_number = document.querySelector('.phone_number_value').textContent;
                var date_of_siwes_value = document.querySelector('.date_of_siwes_value').textContent;
                var status_value = document.querySelector('.status_value').textContent;
                var approved_value = document.querySelector('.approved_value');
                var ckeck_box_approved = document.getElementById('ckeck_box_approved');
                
                if(ckeck_box_approved.checked === true && approved_value.textContent === 'false'){
                    approved_value.textContent = '';
                    const String_value = 'true';
                    approved_value.textContent = String_value;
                    var reasign_text = approved_value.textContent;
                    console.log(reasign_text);
                    console.log(typeof reasign_text);
                    var approved_ = JSON.parse(reasign_text.toLowerCase());
                    console.log(approved_);
                    console.log(typeof approved_);
                    $.ajax({
                    method : 'POST',
                    url : '/admin/approved',
                    dataType : 'json',
                    data : {
                    reg_number : reg_number_1_value,
                    email : email,
                    first_name : first_name,
                    last_name : last_name,
                    department : department,
                    collage : collage,
                    phone_number : phone_number,
                    date_of_siwes : date_of_siwes_value,
                    status : status_value,
                    approved : approved_
                    },
                    statusCode : {
                        400 : function(msg, status, jqXHR){
                            console.log(status);
                        }, 

                        500 : function(msg, status, jqXHR){
                            console.log(status);
                        },
                        
                        200 : function(msg, status, jqXHR){
                            console.log(status);
                        }
                    }
                    }).done((msg, status, jqXHR) => {
                        console.log(jqXHR);
                        alert('Sucess!! '+ jqXHR.responseJSON.doc.mat_number +' has been approved for SIWES');
                        var _siwes = document.querySelectorAll('._siwes');
                        for(var i = 0; i < _siwes.length; i++){
                            _siwes[i].textContent = '';
                        } 
                        var perent_display = document.querySelector('.perent_display');
                        parent_display.style.display = 'none';
                    })
                    .fail(
                        (msg, status, jqXHR) => {
                            console.log(msg.responseJSON.msg);  
                        }
                    );
                }else{
                    alert(''+toUnicodeVariant('Process failed!!','bold sans')+' '+toUnicodeVariant('either the student has already been approved for SIWES OR the student was not checked before approval proccess was launched','sans')+'')
                }
            }  
        </script>
    </body>
</html>
